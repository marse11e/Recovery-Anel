# Инструмент восстановления удалённых файлов

Этот проект представляет собой графический инструмент для восстановления удалённых файлов с жёсткого диска. Программа работает в режиме прямого доступа к устройству, определяет тип файловой системы, сканирует бинарные данные на наличие сигнатур начала и конца файлов (на примере JPEG) и восстанавливает файлы с автоматически сгенерированными именами. Также предусмотрена обработка частичных восстановлений, когда данные файла могут быть перезаписаны.

---

## Возможности

- **Определение файловой системы:**  
  Программа автоматически определяет тип файловой системы (NTFS, FAT32, ext4) по чтению сигнатур в начальных секторах.

- **Сканирование бинарных данных:**  
  Производится поиск сигнатур начала (например, FF D8 для JPEG) и конца файла (например, FF D9 для JPEG) для идентификации удалённых файлов.

- **Восстановление файлов:**  
  При обнаружении сигнатур программа восстанавливает содержимое файла. Если файл найден частично (отсутствует сигнатура конца), он помечается как "Partial", что позволяет учитывать возможность перезаписывания данных.

- **Графический интерфейс:**  
  Реализован с помощью PyQt5, что обеспечивает удобное взаимодействие с пользователем для выбора устройства, просмотра результатов сканирования и восстановления файлов.

- **Логирование:**  
  Все этапы работы отображаются в журнале логов, что позволяет отслеживать процесс сканирования и восстановления.

---

## Требования

- **Python:**  
  Python 3.6 и выше

- **Библиотеки:**
  - [PyQt5](https://pypi.org/project/PyQt5/): для графического интерфейса  
    Установка:  
    ```bash
    pip install PyQt5
    ```
  - [pytsk3](https://github.com/py4n6/pytsk): (опционально) для работы с файловой системой NTFS  
    Установка:  
    ```bash
    pip install pytsk3
    ```
  - Стандартные библиотеки Python: `os`, `threading`, `time`, `random`, `struct`, `re`, `datetime`

---

## Установка и запуск

1. **Скачайте или клонируйте репозиторий:**

   ```bash
   git clone git@github.com:marse11e/Recovery-Anel.git
   cd Recovery-Anel
   ```

2. **Установите необходимые библиотеки:**

   ```bash
   sudo pip install PyQt5 pytsk3 --break-system-packages
   ```

3. **Запустите приложение:**

   ```bash
   sudo python scan.py
   ```

---

## Как использовать

1. **Выбор устройства:**  
   При запуске программы в верхней панели отображается список доступных дисков. Выберите нужное устройство для сканирования.

2. **Сканирование:**  
   Нажмите кнопку **"Сканировать диск"** для начала процесса сканирования. Программа определит файловую систему и выполнит поиск удалённых файлов с помощью анализа сигнатур или чтения MFT (для NTFS).

3. **Просмотр результатов:**  
   Результаты сканирования отображаются в виде таблицы с информацией о найденных файлах. Фильтры позволяют отфильтровать результаты по типу, размеру, статусу и дате удаления.

4. **Восстановление:**  
   Выберите нужные файлы в таблице и нажмите кнопку **"Восстановить выбранные файлы"**. Программа восстановит файлы, сохранив их с автоматически сгенерированными именами в указанную папку.

5. **Логирование:**  
   Журнал логов показывает подробную информацию о процессе сканирования и восстановления.

---

## Примечания

- При использовании режима прямого доступа к устройству могут потребоваться права администратора.
- Восстановление файлов по сигнатурам реализовано для примера на JPEG, и может потребовать доработки для других типов файлов.
- Восстановленные файлы сохраняются с автоматически сгенерированными именами, так как оригинальные имена могут быть утрачены.

---

Этот инструмент может служить хорошей отправной точкой для создания более сложных решений по восстановлению данных и может быть адаптирован под специфические требования в зависимости от используемой файловой системы и типа данных.